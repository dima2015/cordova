<div id="plan_meeting" layout="column">
    <md-toolbar class="toolbar" flex>
        <div class="md-toolbar-tools">
            <md-button ng-href="/#/user" class="md-icon-button">
                <md-icon>arrow_back</md-icon>
            </md-button>
            <h1 class="md-headline"><span>{{nmC.toolbarTitle}}</span></h1>
            <span flex></span>
            <md-button ng-show="nmC.getMode()" class="md-icon-button" ng-click="nmC.deleteMeeting()">
                <md-icon>delete</md-icon>
            </md-button>
            <md-button class="md-icon-button" ng-click="nmC.submit()">
                <md-icon>send</md-icon>
            </md-button>
        </div>
    </md-toolbar>
    <md-content flex layout="column" class="md-padding" layout-padding>
        <section class="plan_meeting__information">
            <h3 class="md-subhead">
                <md-icon>info_outline</md-icon>
                &nbsp;&nbsp;Information
            </h3>
            <md-input-container class="md-block" ng-class="{'md-input-invalid' : nmC.invalidFlags.name }">
                <md-icon>title</md-icon>
                <input name="org" ng-model="nmC.data.meeting.name" type="text"
                       placeholder="Meeting name">
                <div class="input_errors">
                    <div class="input_errors__error md-caption" ng-show="nmC.invalidFlags.name">This field is
                        required
                    </div>
                </div>
            </md-input-container>
            <md-input-container class="md-block" ng-class="{'md-input-invalid' : nmC.invalidFlags.description_len || nmC.invalidFlags.description_req }">
                <md-icon>short_text</md-icon>
                <textarea placeholder="Meeting description" ng-model="nmC.data.meeting.description" md-maxlength="150" rows="5"
                          md-select-on-focus></textarea>
                <div class="input_errors">
                    <div class="input_errors__error md-caption" ng-show="nmC.invalidFlags.description">The field containts
                        too much characters
                    </div>
                </div>
            </md-input-container>
        </section>
        <md-divider></md-divider>
        <section>
            <h3 class="md-subhead">
                <md-icon>schedule</md-icon>
                &nbsp;&nbsp;Duration
            </h3>
            <md-slider-container layout="rows">
                <md-slider flex min="15"  ng-model="nmC.data.meeting.duration" max="360" ng-model="color.red" aria-label="red" id="red-slider">
                </md-slider>
                <md-input-container class="plan_meeting__duration__display">
                    <span>Mins</span>
                    <input readonly  type="text" ng-model="nmC.data.meeting.duration"
                           aria-label="red" aria-controls="red-slider">
                </md-input-container>
            </md-slider-container>
        </section>
        <md-divider></md-divider>
        <section class="plan_meeting__groups">
            <div>
                <h3 class="md-subhead">
                    <md-icon>group</md-icon>
                    &nbsp;&nbsp;Groups
                </h3>
                <span ng-show="nmC.invalidFlags.groups">Select at least one group</span>
            </div>
            <md-list class="plan_meeting__groups__list" flex>
                <md-list-item layout="row" layout-align="center center" ng-hide="nmC.groups">
                    <md-progress-circular md-mode="indeterminate"></md-progress-circular>
                </md-list-item>
                <md-list-item ng-repeat="group in nmC.groups">
                    <img style="margin-right: 2em" src="../../../../assets/icon.svg" alt="">
                    <span flex>{{group.name}}</span>
                    <md-checkbox ng-model="nmC.checkedGroups[$index].selected"></md-checkbox>
                </md-list-item>
            </md-list>
        </section>

        <md-divider></md-divider>
        <section class="plan_meeting__information md-padding" layout-padding>
            <span class="non_field_error" ng-show="nmC.invalidFlags.time_windows_num">Insert at least one time window</span>
            <span class="non_field_error" ng-show="nmC.invalidFlags.time_windows_dur">At least on time window is too short</span>
            <h3 class="md-subhead">
                <md-icon>event_available</md-icon>
                &nbsp;&nbsp;Possible time windows
            </h3>
            <div id="meetingTimeslots" md-swipe-left="onSwipeLeft()">
            </div>
        </section>
    </md-content>
</div>

